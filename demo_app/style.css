:root{
    --bg: #0f1115;
    --panel: #151924;
    --panel-muted: #121621;
    --text: #e7ecf5;
    --text-dim: #a8b0c0;
    --accent: #6ea8fe;
    --accent-2: #84e1a6;
    --border: #242a38;
    --danger: #ff6b6b;
  }
  
  *{ box-sizing: border-box; }
  html, body{ height:100%; }
  body{
    margin:0;
    font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    color: var(--text);
    background: linear-gradient(180deg, #0b0d12, #0f1115 40%);
  }
  
  .app-header{
    display:flex; align-items:center; justify-content:space-between;
    padding: 12px 18px; border-bottom:1px solid var(--border);
    background: rgba(10,12,18,0.7); backdrop-filter: blur(8px);
    position:sticky; top:0; z-index:10;
  }
  .brand{ display:flex; align-items:center; gap:10px; font-weight:600; letter-spacing: .2px;}
  .brand .dot{ width:10px; height:10px; border-radius:50%; background: linear-gradient(135deg, var(--accent), var(--accent-2)); box-shadow: 0 0 12px rgba(132,225,166,.5);}
  .meta{ color: var(--text-dim);}
  .meta code{ background: #0a0d14; padding:2px 6px; border-radius:6px; border:1px solid var(--border);}
  
  .layout{ display:grid; grid-template-columns: 280px 1fr; min-height: calc(100vh - 56px); }
  .sidebar{
    border-right:1px solid var(--border);
    padding:14px; background: var(--panel);
  }
  .sidebar-head{ display:flex; flex-direction:column; gap:10px; margin-bottom:10px;}
  .sidebar input{
    width:100%; padding:8px 10px; border-radius:8px; border:1px solid var(--border);
    background:#0c0f16; color:var(--text); outline:none;
  }
  .run-list{ list-style:none; padding:0; margin:8px 0 0; display:flex; flex-direction:column; gap:8px; }
  .run-item{
    border:1px solid var(--border); border-radius:10px; padding:10px; background: var(--panel-muted);
    cursor:pointer; transition: border-color .15s, background .15s;
  }
  .run-item:hover{ border-color: #2f3648; background: #131926; }
  .run-item .id{ font-weight:600; }
  .run-item .count{ color: var(--text-dim); }
  
  .content{ padding:18px; }
  .empty{ text-align:center; margin-top:80px; color: var(--text-dim); }
  .hidden{ display:none; }
  
  .encounter-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
  h2{ margin:0; font-size:18px; }
  h3{ margin:0 0 8px 0; font-size:15px; }
  
  .omissions-box{
    border:1px solid var(--border); border-radius:12px; padding:12px; background: var(--panel);
    margin-bottom:16px;
  }
  .omissions{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px; max-height: 240px; overflow:auto; }
  .omit-item{
    display:grid; grid-template-columns: 28px 1fr; gap:8px;
    padding:10px; border:1px solid var(--border); border-radius:10px; background: var(--panel-muted);
  }
  .omit-item .meta{ color: var(--text-dim); font-size:12px; }
  .omit-item .val{ white-space: pre-wrap; }
  
  .note-row{ display:grid; grid-template-columns: 1fr 1fr; gap:14px; }
  .note-box{
    border:1px solid var(--border); border-radius:12px; background: var(--panel);
  }
  .note-head{
    padding:10px 12px; border-bottom:1px solid var(--border);
    display:flex; align-items:center; justify-content:space-between;
  }
  .note-body{
    padding:12px; min-height:120px; white-space: pre-wrap;
  }
  .muted-bg{ background: var(--panel-muted); }
  
  .footer-actions{ display:flex; align-items:center; gap:10px; margin-top:12px; }
  .btn{
    padding:8px 12px; border-radius:10px; border:1px solid var(--border);
    background:#0e1320; color:var(--text); cursor:pointer;
  }
  .btn:hover{ border-color:#2f3648; }
  .btn.primary{
    background: linear-gradient(135deg, var(--accent), var(--accent-2));
    color:#0a101a; font-weight:600; border:none;
  }
  .btn.ghost{ background: transparent; }
  .status{ color: var(--text-dim); }
  
  .hint{ color: var(--text-dim); font-weight: normal; }
  
  @media (max-width: 980px){
    .layout{ grid-template-columns: 1fr; }
    .sidebar{ position:sticky; top:56px; z-index: 5; }
    .note-row{ grid-template-columns: 1fr; }
  }
  